workflows:
  react-native-workflow:
    name: Build iOS with Expo
    environment:
      vars:
        EXPO_APPLE_TEAM_ID: <your_apple_team_id> # optional if using paid Apple account
      node: 18
      xcode: latest
    scripts:
      - name: Install dependencies
        script: |
          npm install -g expo-cli
          npm ci
      - name: Prebuild
        script: |
          npx expo install
          npx expo prebuild
      - name: Build iOS app
        script: |
          npx expo run:ios --no-install --configuration Release
    artifacts:
      - ios/build/**/*.ipa
